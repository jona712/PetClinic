<mat-card class="container">
  <mat-card-header class="header">
    <h1>Listado de Productos</h1>
    <a
      mat-mini-fab
      matTooltip="Crear Producto"
      aria-label="Crear Producto"
      color="primary"
      (click)="crearProducto()"
    >
      <mat-icon>add</mat-icon>
    </a>
  </mat-card-header>
  <mat-card-content>
    <table
      mat-table
      [dataSource]="dataSource"
      class="full-width-table"
      matSort
      matSortStart="desc"
      aria-label="Elements"
    >
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Código</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Descripción</th>
        <td mat-cell *matCellDef="let row">
          {{ row.nombre }}
        </td>
      </ng-container>

      <ng-container matColumnDef="imagen">
        <th mat-header-cell *matHeaderCellDef>Producto</th>
        <td mat-cell *matCellDef="let row">
          <img
            [src]="'http://localhost:3000/images/' + row.imagen"
            alt="Producto"
            width="70"
            height="70"
          />
        </td>
      </ng-container>

      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef>Opciones</th>
        <td mat-cell *matCellDef="let row" class="actions-container">
          <button
            class="action"
            mat-mini-fab
            matTooltip="Actualizar Producto"
            aria-label="Actualizar Producto"
            color="primary"
            (click)="actualizarProducto(row.id)"
          >
            <mat-icon class="mat-18">edit</mat-icon>
          </button>
          <button
            class="action"
            mat-mini-fab
            matTooltip="Detalle Producto"
            aria-label="Detalle Producto"
            color="primary"
            (click)="detalleProducto(row.id)"
          >
            <mat-icon class="mat-18">info</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      #paginator
      [length]="dataSource?.data?.length"
      [pageIndex]="0"
      [pageSize]="5"
      [pageSizeOptions]="[3, 5, 10]"
      aria-label="Seleccione una pagina"
    >
    </mat-paginator>
  </mat-card-content>
</mat-card>
